(function(window2){function GoDebug(){var _godebug={};return _godebug.createDebugButton=function(){const container=document.createElement("div");container.style.zIndex="9999",container.style.background="var(--bg-color)",container.style.bottom="10px",container.style.right="10px",container.style.position="fixed";const button=document.createElement("button");return button.style.color="var(--font-color)",button.style.padding=".5rem 1.2rem",button.style.fontSize="1rem",button.style.borderRadius="0.5em",button.style.background="#ffaa31",button.style.border="1px solid #ffaa31",button.style.transition="all .3s",button.style.boxShadow="6px 6px 12px #c5c5c5 -6px -6px 12px #ffffff",button.id="debug-view-button",button.innerHTML="View Data",button.addEventListener("click",function(){const dialog=document.getElementById("dialog-debug-modal");typeof dialog.showModal!="function"?console.error("browser does not support dialogs"):dialog.showModal()}),container.appendChild(button),container},_godebug.createDebugModal=function(){const dialog=document.createElement("dialog");dialog.id="dialog-debug-modal";const buttonContainer=document.createElement("div");buttonContainer.style.display="flex",buttonContainer.style.justifyContent="center";const close=document.createElement("button");close.innerHTML="close",close.style.margin=".5rem",close.addEventListener("click",()=>{dialog.close()});const render=document.createElement("button");render.innerHTML="render",render.style.display="none",render.style.margin=".5rem",render.id="debug-render",render.setAttribute("disabled",!0),render.addEventListener("click",()=>{dialog.close()}),buttonContainer.appendChild(close),buttonContainer.appendChild(render);const editorContainer=document.createElement("div");return editorContainer.style.width="800px",editorContainer.style.height="600px",editorContainer.style.border="1px solid grey",editorContainer.id="debug-editor",dialog.appendChild(editorContainer),dialog.appendChild(buttonContainer),dialog},_godebug.createWasmExec=function(){const script=document.createElement("script");return script.src="/js/wasm_exec.js",script},_godebug.renderEditorContent=function(data){window2.require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs"}}),window2.require(["vs/editor/editor.main"],function(){var editor=monaco.editor.create(document.getElementById("debug-editor"),{value:JSON.stringify(data,"  ",2),language:"json",folding:!0});editor.getAction("editor.foldLevel2").run(),editor.getModel().onDidChangeContent(event=>{}),document.getElementById("debug-view-button").addEventListener("click",()=>{editor.layout()})})},_godebug.initWasmGO=function(){let go=new Go;WebAssembly.instantiateStreaming(fetch("/js/main.wasm"),go.importObject).then(result=>{go.run(result.instance)})},_godebug.initialize=function(data){if(typeof window2.require!="function"){console.error("the debug library requires the monaco-editor loader library");return}document.body.appendChild(this.createDebugButton()),document.body.appendChild(this.createDebugModal()),this.renderEditorContent(data)},_godebug}window2.GoDebug=GoDebug()})(window);
